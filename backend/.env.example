# ============================================
# DATABASE CONFIGURATION
# ============================================
# For Dokploy deployment (internal connection - set these in Dokploy environment variables):
# DB_HOST=ticketing-db
# For local development (external connection):
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ticketing
DB_USER=postgres
DB_PASSWORD=postgres123

# Alternative: Use DATABASE_URL instead of individual DB_ variables
# DATABASE_URL=postgresql://username:password@your-db-host:5432/dbname

# ============================================
# DJANGO CORE SETTINGS
# ============================================
SECRET_KEY=django-insecure-change-this-in-production-12345
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# HTTPS Configuration (Dokploy/Production)
# Set to True only when HTTPS is enabled in Dokploy/Traefik
USE_HTTPS=False

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins (no spaces, no trailing slashes)
# Add both local development and production frontend URLs
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Production example:
# CORS_ALLOWED_ORIGINS=https://tickets.your-domain.com,https://api.your-domain.com

# ============================================
# REDIS CONFIGURATION (for WebSockets & Celery)
# ============================================
# Redis is used by Django Channels for WebSocket message routing and by Celery for task queue
# In development (DEBUG=True), in-memory channel layer is used automatically
# In production (DEBUG=False), Redis is REQUIRED for WebSocket support and Celery
# Use REDIS_URL for authenticated connections (Recommended for Production)
# Format: redis://:password@host:port/db_number
REDIS_URL=redis://:password@host:port/0
# Legacy/Local configuration (used if REDIS_URL is not set):
REDIS_HOST=localhost
REDIS_PORT=6379

# Dokploy example with authentication:
# REDIS_URL=redis://:your-redis-password@tickets-ticketingredis-eyohax:6379/0

# ============================================
# CELERY CONFIGURATION (optional overrides)
# ============================================
# If not set, these default to REDIS_URL or constructed from REDIS_HOST:REDIS_PORT
# CELERY_BROKER_URL=redis://:password@host:port/0
# CELERY_RESULT_BACKEND=redis://:password@host:port/0

# Auto-archive settings
# Number of hours a ticket stays in Done before being auto-archived
TICKET_ARCHIVE_AFTER_HOURS=24

# ============================================
# JWT AUTHENTICATION
# ============================================
ACCESS_TOKEN_LIFETIME_MINUTES=60
REFRESH_TOKEN_LIFETIME_DAYS=7

# ============================================
# DEVELOPMENT/TESTING ONLY
# ============================================
# WARNING: Remove this in production!
# This bypasses JWT authentication for testing purposes
# SUPER_SECRET_KEY=dev-super-secret-key-12345
